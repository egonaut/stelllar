# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Role implements BaseEntity {
  id: ID!
  createdAt: DateTime!
  name: String!
  isDefault: Boolean!
  color: HexColorCode
  permissions: [ServerPermission!]!
}

interface BaseEntity {
  id: ID!
  createdAt: DateTime!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

"""
A field whose value is a hex color code: https://en.wikipedia.org/wiki/Web_colors.
"""
scalar HexColorCode @specifiedBy(url: "https://en.wikipedia.org/wiki/Web_colors")

enum ServerPermission {
  ManageChannels
  PrivateChannels
  RestrictedChannels
  ManageServer
  ManageUsers
  SendMessages
  ManageMessages
  ManagePosts
  ManageComments
  ManageFolders
  AddPostToFolder
  DisplayRoleSeparately
  Admin
}

type Image {
  originalUrl: String!
  originalWidth: PositiveInt!
  originalHeight: PositiveInt!
  smallUrl: String
  smallWidth: PositiveInt
  smallHeight: PositiveInt
  popupUrl: String
  popupWidth: PositiveInt
  popupHeight: PositiveInt
}

"""Integers that will have a value greater than 0."""
scalar PositiveInt

type LinkMetadata {
  title: String
  description: String
  date: DateTime
  author: String
  publisher: String
  imageUrl: String
  image: Image
  logoUrl: String
  logo: Image
  url: String
  twitterCard: String
  themeColor: String
}

type Comment implements BaseEntity {
  id: ID!
  createdAt: DateTime!
  author: User
  serverUser: ServerUser
  post: Post!
  text: String!
  parentComment: Comment
  voteCount: Int!
  voteType: VoteType!
  isPinned: Boolean!
  pinnedAt: DateTime
  updatedAt: DateTime
  isDeleted: Boolean!
  linkMetadatas: [LinkMetadata!]!
}

enum VoteType {
  Up
  None
  Down
}

type PostImage {
  image: Image!
}

type Post implements BaseEntity {
  id: ID!
  createdAt: DateTime!
  title: String!
  text: String
  linkUrl: String
  linkMetadata: LinkMetadata
  linkMetadatas: [LinkMetadata!]!
  images: [PostImage!]!
  thumbnailUrl: String
  author: User
  serverUser: ServerUser
  isPinned: Boolean!
  pinnedAt: DateTime
  server: Server!
  folders: [Folder!]
  voteCount: Int!
  voteType: VoteType
  commentCount: NonNegativeInt!
  updatedAt: DateTime
  isDeleted: Boolean!
}

"""Integers that will have a value of 0 or more."""
scalar NonNegativeInt

type Group implements BaseEntity {
  id: ID!
  createdAt: DateTime!
  owner: User!
  name: String!
  avatarUrl: String
  lastMessageAt: DateTime!
  users: [User!]!
  unreadCount: NonNegativeInt!
}

type File {
  url: String!
  mime: String!
  filename: String!
  size: Float!
}

type Channel implements BaseEntity {
  id: ID!
  createdAt: DateTime!
  name: String
  description: String
  server: Server!
  type: ChannelType!
  mentionCount: NonNegativeInt!
  isUnread: Boolean!
  isDefault: Boolean!
}

enum ChannelType {
  Public
  Restricted
  Private
}

type Server implements BaseEntity {
  id: ID!
  createdAt: DateTime!
  name: String!
  displayName: String!
  description: String
  owner: User!
  roles: [Role!]!
  folders: [Folder!]!
  category: ServerCategory!
  userCount: NonNegativeInt!
  onlineCount: NonNegativeInt!
  avatarUrl: String
  bannerUrl: String
  isBanned: Boolean!
  isDeleted: Boolean!
  isPublic: Boolean!
  isChatEnabled: Boolean!
  isDownvotesEnabled: Boolean!
  channels: [Channel!]!
  permissions: [ServerPermission!]!
  isFeatured: Boolean!
  isJoined: Boolean!
}

enum ServerCategory {
  Arts
  Business
  Culture
  Discussion
  Entertainment
  Gaming
  Health
  Hobbies
  Lifestyle
  Memes
  Meta
  News
  Politics
  Programming
  Science
  Sports
  Technology
  Other
}

type Folder implements BaseEntity {
  id: ID!
  createdAt: DateTime!
  name: String!
  description: String
  avatarUrl: String
  owner: User
  server: Server
  postCount: NonNegativeInt!
  followerCount: NonNegativeInt!
  isFollowing: Boolean!
  isCollaborative: Boolean!
  visibility: FolderVisibility!
}

enum FolderVisibility {
  Public
  Friends
  Private
  Unlisted
}

type User {
  id: ID!
  createdAt: DateTime!
  name: String!
  email: EmailAddress!
  image: String
  lastLoginAt: DateTime
  lastMessageAt: DateTime
  onlineStatus: OnlineStatus!
  isAdmin: Boolean!
  isCurrentUser: Boolean!
  groups: [Group!]!
  relatedUsers: [User!]!
  folders: [Folder!]!
  servers: [Server!]!
  unreadCount: NonNegativeInt!
  showChat: Boolean!
  relationshipStatus: RelationshipStatus!
  isOg: Boolean!
  isStaff: Boolean!
  isOnline: Boolean!
}

"""
A field whose value conforms to the standard internet email address format as specified in RFC822: https://www.w3.org/Protocols/rfc822/.
"""
scalar EmailAddress @specifiedBy(url: "https://www.w3.org/Protocols/rfc822/")

enum OnlineStatus {
  Online
  Away
  DoNotDisturb
  Offline
}

enum RelationshipStatus {
  None
  FriendRequestOutgoing
  FriendRequestIncoming
  Friends
  Blocking
  Blocked
}

type ServerUser {
  user: User!
  role: Role!
}

type Query {
  me: User
  server(name: String!): Server
  publicServers(sort: PublicServersSort = Top, category: ServerCategory): [Server!]!
  post(id: String!): Post!
  posts(offset: NonNegativeInt = 0, limit: PositiveInt = 20, sort: PostsSort = Hot, time: PostsTime = All, feed: PostsFeed = Joined, serverName: String, folderId: ID, search: String): [Post!]!
  getLinkMetadata(linkUrl: String!): LinkMetadata
}

enum PublicServersSort {
  New
  Top
}

enum PostsSort {
  New
  Top
  Hot
  Added
}

enum PostsTime {
  Hour
  Day
  Week
  Month
  Year
  All
}

enum PostsFeed {
  Joined
  Featured
  All
}

type Mutation {
  updateAvatar(input: UpdateAvatarInput!): User!
  updateProfile(input: UpdateProfileInput!): User!
  deleteUser: Boolean!
  createServer(input: CreateServerInput!): Server!
  updateServer(input: UpdateServerInput!): Server!
  joinServer(serverId: String!): Server!
  leaveServer(serverId: String!): Server!
  createPost(input: CreatePostInput!): Post!
  vote(input: VoteInput!): Post!
  createComment(input: CreateCommentInput!): Comment!
}

input UpdateAvatarInput {
  avatarFile: Upload!
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload

input UpdateProfileInput {
  name: String!
}

input CreateServerInput {
  name: String!
  displayName: String!
  description: String
  category: ServerCategory = Other
  avatarFile: Upload
  bannerFile: Upload
}

input UpdateServerInput {
  serverId: String!
  displayName: String!
  description: String
  category: ServerCategory = Other
  avatarFile: Upload
  bannerFile: Upload
}

input CreatePostInput {
  title: String!
  linkUrl: String
  text: String
  serverId: ID!
  images: [CreatePostImagesInput!]
}

input CreatePostImagesInput {
  file: Upload!
}

input VoteInput {
  postId: ID!
  type: VoteType!
}

input CreateCommentInput {
  text: String!
  postId: ID!
  parentCommentId: ID
}